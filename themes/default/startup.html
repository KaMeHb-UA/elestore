<!DOCTYPE html>
<html style="height:100%">
    <head>
        <title name="loading-stage-title"></title>
        <link rel="stylesheet" href="css/loading-animation.css"/>
        <script src="js/translate.js"></script>
        <!-- NEEDED BY PROGRAM -->
        <script>
            window.setLoadingStage = (stage) => {
                document.getElementsByName('loading-stage-title').forEach(element => {
                    element.innerHTML = __(stage, 'loading stage')
                })
            };
            window.internalConsole = {
                log: (text) => {
                    document.getElementsByName('Internal console').forEach(element => {
                        element.innerHTML += `\n${text}`
                    })
                },
                init: ()=>{
                    document.getElementsByName('Internal console').forEach(element => {
                        element.parentNode.style.display == 'none' &&
                        (element.parentNode.style.display = '')
                    })
                }
            }
        </script>
        <!-- / NEEDED BY PROGRAM -->
        <meta charset="UTF-8"><script></script>
    </head>
    <body style="height:100%;margin:0">
        <div class="progress" style="margin-top:0">
            <div class="indeterminate"></div>
        </div>
        <h4 name="loading-stage-title" style="margin-left:20px;"></h4>
        <script>setLoadingStage('Application starting...')</script>
        <div style="
            background-color: #292929;
            color: #007592;
            overflow: hidden;
            overflow-y: auto;
            display: none;
        "><pre name="Internal console" style="margin:0"></pre></div>
        <script>
            var div = document.getElementsByName('Internal console')[0].parentNode,
                padding = 20,
                onResize = () => {
                    div.style.height = `${
                        window.innerHeight - 
                        div.getBoundingClientRect().top - 
                        (padding * 2)
                    }px`
                },
                windowOnResizeOriginal = window.onresize || (() => {});
            div.style.padding = `${padding}px`;
            window.onresize = function(){
                windowOnResizeOriginal.apply(this, arguments);
                onResize()
            };
            setTimeout(onResize, 100)
        </script>
    </body>
</html>
